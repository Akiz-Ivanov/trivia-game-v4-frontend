@import "tailwindcss";
@import "tw-animate-css";

@font-face {
  font-family: 'Poppins';
  src: url('/fonts/poppins/hinted-subset-Poppins-MediumItalic.woff2') format('woff2'),
    url('/fonts/poppins/hinted-subset-Poppins-MediumItalic.woff') format('woff');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Poppins';
  src: url('/fonts/poppins/hinted-subset-Poppins-Medium.woff2') format('woff2'),
    url('/fonts/poppins/hinted-subset-Poppins-Medium.woff') format('woff');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Poppins';
  src: url('/fonts/poppins/hinted-subset-Poppins-SemiBold.woff2') format('woff2'),
    url('/fonts/poppins/hinted-subset-Poppins-SemiBold.woff') format('woff');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Poppins';
  src: url('/fonts/poppins/hinted-subset-Poppins-Bold.woff2') format('woff2'),
    url('/fonts/poppins/hinted-subset-Poppins-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Creepster-Regular';
  src: url('/fonts/halloween/Creepster-Regular.woff2') format('woff2'),
    url('/fonts/halloween/Creepster-Regular.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@custom-variant dark (&:is(.dark *));

/*==============================
CUSTOM PROPERTIES
===============================*/
@theme inline {
  --breakpoint-xs: 30rem;

  --text-15-16: clamp(0.9375rem, 0.9155rem + 0.0939vw, 1rem);
  /** From 0.9375rem at 375px to 1rem at 1440px */
  --text-15-18: clamp(0.9375rem, 0.8715rem + 0.2817vw, 1.125rem);
  /** From 0.9375rem at 375px to 1.125rem at 1440px */
  --text-16-18: clamp(1rem, 0.956rem + 0.1878vw, 1.125rem);
  /** From 1rem at 375px to 1.125rem at 1440px */
  --text-18-22: clamp(1.125rem, 1.0282rem + 0.4131vw, 1.4rem);
  /** From 1.125rem at 375px to 1.4rem at 1440px */
  --text-20-24: clamp(1.25rem, 1.162rem + 0.3756vw, 1.5rem);
  /** From 1.25rem at 375px to 1.5rem at 1440px */
  --text-24-36: clamp(1.5rem, 1.2359rem + 1.1268vw, 2.25rem);
  /** From 1.5rem at 375px to 2.25rem at 1440px */
  --text-36-42: clamp(2.25rem, 2.118rem + 0.5634vw, 2.625rem);
  /** From 2.25rem at 375px to 2.625rem at 1440px */

  --spacing-3-16: clamp(0.2rem, -0.0817rem + 1.2019vw, 1rem);
  /** From 0.2rem at 375px to 1rem at 1440px */
  --spacing-16-24: clamp(1rem, -0.7857rem + 7.619vw, 1.5rem);
  /** From 1rem at 375px to 1.5rem at 480px */
  --spacing-16-32: clamp(1rem, 0.6479rem + 1.5023vw, 2rem);
  /** From 1rem at 375px to 2rem at 1440px */
  --spacing-16-64: clamp(1rem, -1.8626rem + 12.2137vw, 4rem);
  /** From 1rem at 375px to 4rem at 768px */
  --spacing-16-128: clamp(1rem, -10.6667rem + 38.8889vw, 8rem);
  /** From 1rem at 480px to 8rem at 768px */
  --spacing-24-36: clamp(1.5rem, -0.75rem + 4.6875vw, 2.25rem);
  /** From 1.5rem at 768px to 2.25rem at 1024px */

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-progressbar: var(--radius-progressbar);
  --radius-aicard: var(--radius-aicard);

  /* Shadows */
  --shadow-card: var(--shadow-card);
  --shadow-card-error: var(--shadow-card-error);
  --shadow-hard: var(--shadow-hard);
  --shadow-medium: var(--shadow-medium);
  --shadow-easy: var(--shadow-easy);
  --shadow-inset:
    inset 0 4px 10px rgba(0, 0, 0, 0.9),
    inset 0 -4px 8px rgba(0, 0, 0, 0.8);
  --shadow-inset-border: var(--shadow-inset-border);
  --shadow-halloween-inset-border: var(--shadow-halloween-inset-border);
  --shadow-glow-soft: var(--shadow-glow-soft);
  --shadow-accent: var(--shadow-accent);
  --shadow-collapsible-hover: var(--shadow-collapsible-hover);

  /* Radio shadows (can't be used in bg, but useful for box-shadow utilities) */
  --shadow-radio-glow: 0 0 10px var(--radio-shadow-glow), 0 0 20px var(--radio-shadow-glow-subtle);

  /* Animations */
  --animate-flicker: flicker 2s infinite;
  --animate-flyoff: flyoff 1000ms linear forwards;
  --animate-flyback: flyback 3s ease-out forwards;
  --animate-dice-spinning: dice-spinning 2.5s infinite ease-in-out;

  /* Colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-error-foreground: var(--error-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-correct: var(--correct-btn);
  --color-incorrect: var(--incorrect-btn);
  --color-btn-menu-from: var(--btn-menu-from);
  --color-btn-menu-to: var(--btn-menu-to);
  --color-btn-playagain-from: var(--btn-playagain-from);
  --color-btn-playagain-to: var(--btn-playagain-to);

  /* Radio theme colors */
  --color-radio-glow: var(--radio-glow);
  --color-radio-accent: var(--radio-accent);
  --color-radio-text: var(--radio-text);
  --color-radio-bg-dark: var(--radio-bg-dark);
  --color-radio-bg-medium: var(--radio-bg-medium);
  --color-radio-panel: var(--radio-panel);
  --color-radio-texture-color: var(--radio-texture-color);
  --color-radio-texture-color-dark: var(--radio-texture-color-dark);
  --color-radio-light-middle: var(--radio-light-middle);
  --color-radio-light-sides: var(--radio-light-sides);
  --color-radio-screen-tab-bg: var(--radio-screen-tab-bg);
  --color-radio-screen-tab-active: var(--radio-screen-tab-active);
}

/*==============================
  CSS VARIABLES
===============================*/
:root {
  --radius: 0.625rem;
  --radius-progressbar: .25rem;
  --radius-aicard: .75rem;

  --background: oklch(16.5% 0.03 282);
  --foreground: oklch(100.00% 0.000 0);

  --card: rgba(100, 150, 255, 0.1);
  --card-foreground: oklch(92% 0.02 260);

  --popover: oklch(20% 0.025 282);
  --popover-foreground: oklch(95% 0.02 280);

  --primary: oklch(62.3% 0.214 259.815);
  --primary-foreground: oklch(98% 0.005 280);

  --accent: oklch(71.5% 0.143 215.221);
  --accent-foreground: oklch(95% 0.02 280);

  --secondary: oklch(67% 0.165 250);
  --secondary-foreground: oklch(95% 0.02 280);

  --muted: oklch(35% 0.015 270);
  --muted-foreground: oklch(92% 0.02 260);

  --destructive: oklch(68.417% 0.15155 19.887);
  --error-foreground: oklch(71.1% 0.166 22.2);

  --border: oklch(58.9% 0.13 239);
  --input: oklch(65% 0.18 200);
  --ring: oklch(82.5% 0.08 260);

  --chart-1: oklch(76.46% 0.151 229.43);
  --chart-2: oklch(59.87% 0.265 335.87);
  --chart-3: oklch(69.6% 0.17 162.48);
  --chart-4: #00f0ff;

  --correct-btn: oklch(63.977% 0.09281 155.827);
  --incorrect-btn: oklch(64.734% 0.18145 23.642);

  --btn-menu-from: var(--accent);
  --btn-menu-to: var(--primary);
  --btn-playagain-from: #6e8efb;
  --btn-playagain-to: #a777e3;

  --shadow-inset-border: 0 0 0 0.1rem #ffffff44 inset;
  --shadow-glow-soft: 0 0 0.6rem rgba(255, 255, 255, 0.1);
  --shadow-accent: 0 0 15px rgba(0, 195, 255, 0.4);
  --shadow-collapsible-hover: var(--shadow-inset-border), var(--shadow-accent);

  --shadow-card: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--chart-1) inset;
  --shadow-card-error: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06),
    0 0 0 0.1rem var(--color-error-foreground) inset;
  --shadow-hard: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--color-error-foreground) inset;
  --shadow-medium: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--chart-1) inset;
  --shadow-easy: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--chart-3) inset;
}

/*==============================
  - DARK NEON THEME
===============================*/
.dark {
  --background: oklch(16.5% 0.03 282);
  --foreground: oklch(100.00% 0.000 0);

  --card: rgba(100, 150, 255, 0.1);
  --card-foreground: oklch(92% 0.02 260);

  --popover: oklch(20% 0.025 282);
  --popover-foreground: oklch(95% 0.02 280);

  --primary: oklch(62.3% 0.214 259.815);
  --primary-foreground: oklch(98% 0.005 280);

  --accent: oklch(71.5% 0.143 215.221);
  --accent-foreground: oklch(95% 0.02 280);

  --secondary: oklch(67% 0.165 250);
  --secondary-foreground: oklch(79.4% 0.083 223);

  --muted: oklch(35% 0.015 270);
  --muted-foreground: oklch(92% 0.02 260);

  --destructive: oklch(68.417% 0.15155 19.887);
  --error-foreground: oklch(71.1% 0.166 22.2);

  --border: oklch(58.9% 0.13 239);
  --input: oklch(65% 0.18 200);
  --ring: oklch(82.5% 0.08 260);

  --chart-1: oklch(76.46% 0.151 229.43);
  --chart-2: oklch(59.87% 0.265 335.87);
  --chart-3: oklch(69.6% 0.17 162.48);
  --chart-4: #00f0ff;

  --correct-btn: oklch(63.977% 0.09281 155.827);
  --incorrect-btn: oklch(64.734% 0.18145 23.642);

  --btn-menu-from: var(--accent);
  --btn-menu-to: var(--primary);
  --btn-playagain-from: #6e8efb;
  --btn-playagain-to: #a777e3;

  --shadow-card: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--chart-1) inset;
  --shadow-card-error: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06),
    0 0 0 0.1rem var(--color-error-foreground) inset;
  --shadow-hard: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--color-error-foreground) inset;
  --shadow-medium: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--chart-1) inset;
  --shadow-easy: 0 0 0 calc(4px + 1px) rgba(255, 255, 255, 0.06), 0 0 0 0.1rem var(--chart-3) inset;
}

/*==============================
  HALLOWEEN THEME
===============================*/
[data-theme="halloween"] {
  --background: oklch(12% 0.02 285);
  --foreground: oklch(98% 0.01 60);

  --card: oklch(20.5% 0.03 299 / 0.85);
  --card-foreground: oklch(75% 0.18 25);

  --popover: oklch(18% 0.03 285);
  --popover-foreground: oklch(95% 0.02 45);

  --primary: oklch(65% 0.20 45);
  --primary-foreground: oklch(98% 0.005 280);

  --accent: #FF7518;
  --accent-foreground: oklch(98% 0.01 45);

  --secondary: oklch(83.8% 0.134 152);
  --secondary-foreground: oklch(15% 0.02 285);

  --muted: oklch(30% 0.02 285);
  --muted-foreground: oklch(70% 0.05 45);

  --destructive: oklch(68% 0.20 25);
  --error-foreground: oklch(75% 0.18 25);

  --border: oklch(65% 0.20 45);
  --input: oklch(55% 0.15 300);
  --ring: oklch(72.181% 0.13101 277.762 / 0.7);

  --correct-btn: oklch(75% 0.15 150);
  --incorrect-btn: oklch(72% 0.22 25);

  --chart-1: oklch(65% 0.20 45);
  --chart-2: oklch(60% 0.18 300);
  /* --chart-3: oklch(55% 0.15 150); */
  --chart-3: #ff6b00;
  --chart-4: #ff6b00;

  --btn-menu-from: var(--primary);
  --btn-menu-to: var(--accent);

  --shadow-card: 0 0 0 calc(4px + 1px) rgba(0, 0, 0, 0.2),
    0 0 0 0.1rem var(--chart-1) inset;
  --shadow-card-error: 0 0 0 calc(4px + 1px) rgba(255, 60, 0, 0.1),
    0 0 0 0.1rem var(--error-foreground) inset;
  --shadow-hard: 0 0 0 calc(4px + 1px) rgba(255, 60, 0, 0.1),
    0 0 0 0.1rem var(--error-foreground) inset;
  --shadow-medium: 0 0 0 calc(4px + 1px) rgba(255, 107, 0, 0.1),
    0 0 0 0.1rem var(--chart-1) inset;
  --shadow-easy: 0 0 0 calc(4px + 1px) rgba(100, 255, 100, 0.1),
    0 0 0 0.1rem var(--chart-3) inset;

  --shadow-halloween-inset-border: 0 0 0 0.1rem oklch(70% 0.2 50) inset;
  --shadow-glow-soft: 0 0 0.6rem rgba(255, 255, 255, 0.1);
  --shadow-accent: 0 0 18px oklch(70% 0.22 320);
  --shadow-collapsible-hover: var(--shadow-halloween-inset-border), var(--shadow-accent);
  /* --shadow-accent: 0 0 15px oklch(70% 0.25 50); */

  body {
    background-image:
      url('/src/assets/backgrounds/halloween.webp'),
      linear-gradient(135deg,
        var(--background),
        color-mix(in oklch, var(--background), white 6%));

    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    background-size: cover;
    animation: none;
  }

  h1 {
    @apply font-normal px-4 tracking-wide;
    font-family: 'Creepster-Regular', 'Poppins', system-ui, sans-serif;
    background: linear-gradient(90deg,
        var(--color-error-foreground),
        var(--color-primary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-style: italic;
  }

  h2 {
    background: linear-gradient(90deg,
        var(--color-error-foreground),
        var(--color-primary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .dialog-title {
    color: var(--card-foreground)
  }
}

[data-theme="halloween"] select,
[data-theme="halloween"] .select-trigger {
  border: 2px solid var(--secondary);
  /* Toxic green */
  background:
    radial-gradient(circle at 20% 80%,
      rgba(100, 255, 100, 0.1),
      transparent 50%),
    var(--card);
  box-shadow:
    0 0 20px rgba(100, 255, 100, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  color: var(--secondary);
}

[data-theme="halloween"] .select-content {
  border: 2px solid var(--secondary);
  box-shadow:
    0 0 20px rgba(100, 255, 100, 0.25),
    0 4px 12px rgba(0, 0, 0, 0.3);
  color: var(--secondary);
}

[data-theme="halloween"] select:hover,
[data-theme="halloween"] .select-trigger:hover {
  box-shadow:
    0 0 25px rgba(100, 255, 100, 0.35),
    /* Brighter glow */
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/*==============================
  RADIO WIDGET THEMES
===============================*/
[data-radio-theme="retro"] {
  --radio-glow: #e8a948;
  --radio-accent: #f2cc5b;
  --radio-text: #f1dab7;
  --radio-bg-dark: #241e21;
  --radio-bg-medium: #2b2427;
  --radio-panel: #3b2e26;
  --radio-texture-color: #bd6a4f;
  --radio-texture-color-dark: #724039;
  --radio-light-sides: #ffe680;
  --radio-light-middle: #ffca3a;
  --radio-btn-glow: rgb(255, 140, 0);
  --radio-btn-glow-hover: rgba(255, 160, 0, 0.7);
  --radio-shadow-glow: rgba(255, 200, 50, 0.8);
  --radio-shadow-glow-subtle: rgba(255, 200, 50, 0.5);
  --radio-texture: url('/src/assets/svgs/Wood.jpg');
  --radio-station-bg: radial-gradient(circle at 50% 50%, var(--radio-light-sides) 0%, var(--radio-light-middle) 50%, var(--radio-glow) 100%);
  --radio-screen-tab-bg: #74330a;
  --radio-screen-tab-active: #973c00;
}

[data-radio-theme="futuristic"] {
  --radio-glow: #00bfe0;
  --radio-accent: #38bdf8;
  --radio-text: #e0f2fe;
  --radio-bg-dark: #0f172a;
  --radio-bg-medium: #1e293b;
  --radio-panel: #0f172a;
  --radio-texture-color: #64748b;
  --radio-texture-color-dark: #334155;
  --radio-texture: url('/src/assets/svgs/Metal.jpg');
  --radio-light-sides: #00faff;
  --radio-light-middle: #008cff;
  --radio-btn-glow: #38bdf8;
  --radio-btn-glow-hover: rgba(56, 189, 248, 0.7);
  --radio-tab-bg: #1e3a8a;
  --radio-tab-active: #2563eb;
  --radio-shadow-glow: rgba(56, 189, 248, 0.8);
  --radio-shadow-glow-subtle: rgba(56, 189, 248, 0.4);
  --radio-station-bg: radial-gradient(circle at 50% 50%,
      var(--radio-light-sides) 0%,
      var(--radio-glow) 40%),
    var(--radio-light-middle) 100%;
}

/*==============================
  Base
===============================*/
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    scroll-behavior: smooth;
    overscroll-behavior: none;
    min-height: 100vh;
    min-height: 100dvh;
  }

  body {
    @apply flex flex-col items-center justify-center bg-background text-foreground font-medium relative;
    min-height: 100vh;
    min-height: 100dvh;

    font-family: 'Poppins', system-ui, sans-serif;

    background-image:
      url('/src/assets/backgrounds/scribble.svg'),
      linear-gradient(135deg,
        var(--background),
        color-mix(in oklch, var(--background), white 6%));
    background-repeat: no-repeat;
    background-size: 150%, cover;
    background-position: 0% 0%;

    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);

    background-size: 150%;
    will-change: background-size, background-position;
    animation: zoomDrift 150s linear infinite;
  }

  main {
    @apply flex flex-col items-center justify-center text-16-18;
  }

  button,
  [role="button"] {
    @apply cursor-pointer;
    -webkit-tap-highlight-color: transparent;
  }

  h1 {
    @apply text-secondary-foreground mb-8 text-center text-36-42 font-bold;
    text-wrap: balance;
    -webkit-text-wrap: balance;
    text-wrap: pretty;
  }

  form>h2 {
    @apply text-20-24;
  }

  h2 {
    @apply mb-4;
  }

  a {
    @apply hover:text-chart-3;
  }

  strong {
    @apply text-16-18;
  }

  /* ====== Scroll bar ====== */
  /* For Webkit browsers (Chrome, Safari, Edge) */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--background);
    border-radius: var(--radius);
  }

  ::-webkit-scrollbar-thumb {
    background: linear-gradient(to bottom, var(--accent), var(--primary));
    border-radius: var(--radius);
    border: 1px solid var(--border);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, var(--primary), var(--accent));
  }

  /* For Firefox */
  html {
    scrollbar-width: thin;
    scrollbar-color: var(--primary) var(--background);
  }
}

/*==============================
  Utilities
===============================*/
@layer utilities {
  .minimal-mode-animations {
    animation: none !important;
    transition: none !important;
  }

  .minimal-mode-illustrations {
    background-image: none;
  }

  .main-action {
    @apply min-w-12 min-h-12 p-3;
  }

  @property --gradientAngle {
    syntax: "<angle>";
    initial-value: 45deg;
    inherits: false;
  }

  /* Based on XOcode’s Uiverse button – MIT License:
   https://uiverse.io/nima-mollazadeh/terrible-panda-97 */
  .fifty-fifty-btn {
    color: var(--color-chart-3);

    border: none;
    background: linear-gradient(var(--gradientAngle), #0ce3df, #69007f, #fc0987);
    border-radius: 9px;
    animation: gradientRotate 60s linear infinite;
  }

  .fifty-fifty-btn:hover {
    animation: none;
  }

  @keyframes gradientRotate {
    0% {
      --gradientAngle: 45deg;
    }

    100% {
      --gradientAngle: 405deg;
    }
  }

  .fifty-fifty-btn::before {
    content: "";
    position: absolute;
    inset: 1px;
    background: #272727;
    border-radius: 9px;
    transition: 0.5s;
    z-index: -1;
  }

  .hover-supported .fifty-fifty-btn:hover::before {
    opacity: 0.7;
  }

  .fifty-fifty-btn::after {
    content: "";
    position: absolute;
    inset: 0px;
    background: linear-gradient(45deg, #0ce3df, #69007f, #fc0987);
    border-radius: 9px;
    transition: 0.5s;
    opacity: 0;
    filter: blur(20px);
    z-index: -1;
  }

  .hover-supported .fifty-fifty-btn:hover:after {
    opacity: 1;
  }

  .purple-bg {
    background: radial-gradient(65.28% 65.28% at 50% 100%,
        rgba(223, 113, 255, 0.8) 0%,
        rgba(223, 113, 255, 0) 100%),
      linear-gradient(0deg, #7a5af8, #7a5af8);

    box-shadow:
      0 0 0 0.1rem #ffffff44 inset,
      var(--shadow-glow-soft);
    border-radius: 9px;

    position: relative;
    overflow: visible;
  }

  .side-glow {
    position: relative;
  }

  .side-glow::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: -0.625rem;
    right: -0.625rem;
    background: radial-gradient(ellipse at left center, oklch(76.5% 0.151 229 / 0.3), transparent 70%),
      radial-gradient(ellipse at right center, oklch(59.9% 0.265 336 / 0.3), transparent 70%);
    z-index: -1;
    pointer-events: none;
    opacity: 0.2;
  }

  .menu-collapsible {
    @apply w-full max-w-2xs lg:max-w-xs text-16-18 mb-1;
    border-radius: .5rem;

    @supports (corner-shape: squircle) {
      border-radius: 1.5rem;
      corner-shape: squircle;
    }
  }

  .menu>button {
    @apply w-full max-w-2xs lg:max-w-xs p-4 text-16-18 mb-1;

    border-radius: .5rem;

    @supports (corner-shape: squircle) {
      border-radius: 1.5rem;
      corner-shape: squircle;
    }
  }

  .menu>h1 {
    background: linear-gradient(90deg,
        oklch(85% 0.15 260),
        oklch(95% 0.02 280));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font-style: italic;
  }

  @property --btn-angle {
    syntax: "<angle>";
    initial-value: 135deg;
    inherits: false;
  }

  .animate-angle {
    --btn-angle: 135deg;
    background: linear-gradient(var(--btn-angle), #00c3ff, #d600ba);
    transition: --btn-angle 500ms ease-in-out, all 400ms ease-in-out;
  }

  .hover-supported .animate-angle:hover {
    --btn-angle: 225deg;
  }

  .login-btn {
    box-shadow: 0 4px 20px rgba(166, 119, 227, 0.4),
      var(--shadow-inset-border);
  }

  /* ====== Radio components ====== */
  .radio-btn {
    background:
      conic-gradient(from 220deg at 50% 50%,
        #badbf4 0deg,
        #b7c1c8 80deg,
        #68869a 100deg,
        #e5edf4 120deg,
        #465b6c 240deg,
        #d9ecf3 360deg),
      #333;
    border: none;
    font-weight: bold;
    cursor: pointer;
    position: relative;
    transition: transform 0.2s ease, box-shadow 0.2s ease;

    box-shadow:
      inset 0 2px 6px rgba(255, 255, 255, 0.3),
      inset 0 -2px 4px rgba(0, 0, 0, 0.5),
      0 2px 4px rgba(0, 0, 0, 0.6),
      0 0 5px var(--radio-btn-glow),
      0 0 8px color-mix(in srgb, var(--radio-btn-glow) 40%, transparent),
      0 0 10px color-mix(in srgb, var(--radio-btn-glow) 91%, transparent);

    &:hover {
      box-shadow:
        0 0 10px var(--radio-btn-glow-hover),
        0 0 25px color-mix(in srgb, var(--radio-btn-glow-hover) 50%, transparent),
        0 0 40px color-mix(in srgb, var(--radio-btn-glow-hover) 30%, transparent);
    }

  }

  .radio-panel {
    background: #222;
    /* base color */
    background-image:
      radial-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 0),
      radial-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 0);
    background-size: 3px 3px, 4px 4px;
    background-position: 0 0, 2px 2px;
    box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.8);
    border-radius: .75rem;
  }

  .radio-btn-svg {
    color: #fff;
    filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.8));
  }

  .radio-wood-frame {
    padding: 6px;
    border-radius: 1.5rem;
    /* background-color: #724039; */
    background-color: var(--radio-texture-color);
    background: repeating-linear-gradient(135deg,
        var(--radio-texture-color) 0px,
        var(--color-radio-texture-color-dark) 2px);
    position: relative;
    box-shadow:
      inset 0 1px 2px rgba(255, 255, 255, 0.3),
      /* subtle top edge highlight */
      inset 0 -2px 4px rgba(0, 0, 0, 0.5),
      /* bottom inner shadow */
      0 4px 8px rgba(0, 0, 0, 0.6),
      /* outer drop shadow */
      0 -2px 6px rgba(255, 255, 255, 0.15);
    /* faint top reflection */
  }

  .radio-station-name {
    position: relative;
    font-size: .875rem;
    /* text-sm */
    font-weight: 500;
    color: black;
    padding: 0.5rem;
    height: 2.25rem;
    margin: 0 0.2rem;
    border-radius: 1rem;
    background: var(--radio-station-bg);
    box-shadow:
      0 0 10px var(--radio-shadow-glow),
      0 0 20px var(--radio-shadow-glow-subtle);
    animation: radio-light-flicker 3s infinite ease-in-out,
      radio-light-pulse 1.5s infinite alternate;
  }

  @keyframes radio-light-pulse {

    /* 0% {
      box-shadow: 0 0 8px #ffc832, 0 0 15px #ffc83266;
    }

    100% {
      box-shadow: 0 0 16px #ffc832, 0 0 30px #ffc83299;
    } */
    0% {
      box-shadow: 0 0 8px var(--radio-shadow-glow), 0 0 15px var(--radio-shadow-glow-subtle);
    }

    100% {
      box-shadow: 0 0 16px var(--radio-shadow-glow), 0 0 30px var(--radio-shadow-glow-subtle);
    }
  }

  .radio-station-name::before,
  .radio-station-name::after {
    content: "";
    position: absolute;
    top: 0;
    width: 1rem;
    height: 100%;
    z-index: 2;
  }

  .radio-station-name::before {
    left: 0;
    background: linear-gradient(to right, var(--radio-glow), transparent);
  }

  .radio-station-name::after {
    right: 0;
    background: linear-gradient(to left, var(--radio-glow), transparent);
  }

  @keyframes radio-light-flicker {

    0%,
    100% {
      opacity: 1;
    }

    45% {
      opacity: 0.95;
    }

    48% {
      opacity: 0.85;
    }

    50% {
      opacity: 0.9;
    }

    52% {
      opacity: 0.87;
    }

    55% {
      opacity: 0.95;
    }
  }

  .radio-inner-trim {
    padding: 4px;
    border-radius: 1.2rem;
    background: radial-gradient(circle at 30% 30%, #333, #111);
    box-shadow:
      inset 0 2px 6px rgba(255, 255, 255, 0.2),
      inset 0 -2px 4px rgba(0, 0, 0, 0.7),
      inset 0 4px 10px rgba(0, 0, 0, 0.9),
      inset 0 -4px 8px rgba(0, 0, 0, 0.8);
  }

  .radio-top-half {
    /* background: linear-gradient(to bottom, #222, #111); */
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: inset 0 -2px 3px rgba(0, 0, 0, 0.6);
    border-radius: .75rem;
  }

  .border-light {
    background: radial-gradient(circle at 50% 50%,
        var(--radio-light-sides) 0%,
        var(--radio-light-middle) 50%,
        var(--radio-glow) 100%);
    box-shadow:
      0 0 10px var(--radio-shadow-glow),
      0 0 20px var(--radio-shadow-glow-subtle);

    animation: radio-light-flicker 3s infinite ease-in-out;
  }

  .step-scale {
    --label-w: 3em;
    --input-h: 2.25em;
    --thumb-d: var(--input-h);
    --thumb-r: calc(0.5 * var(--thumb-d));
    display: grid;
    grid-row: 1;
    grid-template-columns: var(--label-w) 1fr var(--label-w);
    align-items: end;
    gap: 0.3em;
    color: #bababa;
    text-align: center;
    text-transform: uppercase;
    font-size: .75rem;
    width: 100%;
  }

  .scale-bar {
    grid-area: 1 / 2;
    place-self: end center;
    width: min(12em, 100%);
    min-height: 1em;
    /* background: linear-gradient(90deg, transparent 2px, #f0ba22 0) -1px/1em round; */
    background: linear-gradient(90deg, transparent 2px, var(--radio-glow) 0) -1px/1em round;
    clip-path:
      polygon(0 calc(100% - 1px),
        0 100%, 100% 100%, 100% 0);
  }

  .radio-toggle-btn {
    font-size: 0.5rem;
    padding: 0.4rem 0.6rem;
    transition: all 0.15s ease;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    /* push to top */
    align-items: center;
    height: 100%;
    padding-top: 0.3rem;
  }

  .radio-toggle-btn::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 30%;
    /* covers only top portion */
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), transparent);
    pointer-events: none;
    /* let clicks pass through */
  }

  .tuning-dial::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 30%;
    /* covers only top portion */
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), transparent);
    pointer-events: none;
    /* let clicks pass through */
  }

  .radio-toggle-btn.active {
    /* color: #fff; */
    box-shadow:
      inset 0 1px 2px rgba(0, 0, 0, 0.6);
    transform: translateY(2px);
  }

  /* .radio-toggle-btn:hover {
    background: #222;
  } */

  .radio-toggle-btn::after {
    content: "";
    position: absolute;
    bottom: 3px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 4px;
    border-radius: 9999px;
    background: radial-gradient(circle at 50% 50%, var(--radio-light-sides) 0%, var(--radio-light-middle) 50%, var(--radio-glow) 100%);
    opacity: .2;
    transition: opacity 0.3s ease;
    box-shadow:
      0 -1px 4px var(--radio-shadow-glow-subtle);
  }

  /* Light turns on when active */
  .radio-toggle-btn.active::after {
    opacity: 1;
  }

  .drawer {
    box-shadow:
      inset 0 2px 6px rgba(255, 255, 255, 0.3),
      inset 0 -2px 2px rgba(0, 0, 0, 0.5),
      0 4px 8px rgba(0, 0, 0, 0.5);
  }

  .drawer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 6px;
    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), transparent);
  }

  .radio-utility-btn[aria-pressed="true"] {
    background: var(--radio-station-bg);
    box-shadow: var(--shadow-radio-glow);
    color: black;
  }

  @property --timer-angle {
    syntax: '<angle>';
    inherits: false;
    initial-value: 360deg;
  }

  .timer-border {
    position: absolute;
    inset: -4px;
    border-radius: 1.3rem;
    padding: 3px;
    background: conic-gradient(from 180deg,
        /* Start transparent for soft edge */
        transparent 0%,
        #ff00ff 1deg,
        #00ffff var(--timer-angle, 360deg),
        transparent calc(var(--timer-angle, 360deg) + 1deg),
        transparent 100%);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: --timer-angle 1s linear;
  }

}

/*==============================
  Animations
===============================*/
@keyframes zoomDrift {
  0% {
    background-position: 0% 0%;
    background-size: 150%;
  }

  50% {
    background-size: 152%;
  }

  100% {
    background-position: 100% 100%;
    background-size: 150%;
  }
}

@keyframes flicker {

  0%,
  100% {
    box-shadow: 0 0 6px oklch(72.531% 0.11656 238.701), 0 0 12px oklch(72.531% 0.11656 238.701);
  }

  50% {
    box-shadow: 0 0 2px oklch(72.531% 0.11656 238.701), 0 0 4px oklch(72.531% 0.11656 238.701);
  }
}

@keyframes shake {

  0%,
  100% {
    transform: translateX(0);
  }

  20%,
  60% {
    transform: translateX(-5px);
  }

  40%,
  80% {
    transform: translateX(5px);
  }
}

@keyframes dice-spinning {
  0% {
    transform: rotate(0deg);
  }

  25% {
    transform: rotate(90deg);
  }

  50% {
    transform: rotate(180deg);
  }

  75% {
    transform: rotate(270deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes flyoff {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 1;
  }

  15% {
    transform: translate(60%, -100%) rotate(-5deg) scale(1);
  }

  30% {
    transform: translate(140%, -220%) rotate(-12deg) scale(1.01);
  }

  45% {
    transform: translate(220%, -340%) rotate(-18deg) scale(1.03);
  }

  60% {
    transform: translate(280%, -450%) rotate(-25deg) scale(1.06);
  }

  75% {
    transform: translate(320%, -580%) rotate(-32deg) scale(1.08);
  }

  90% {
    transform: translate(345%, -750%) rotate(-38deg) scale(1.1);
  }

  100% {
    transform: translate(350%, -900%) rotate(-42deg) scale(1);
    opacity: 1;
  }
}

@keyframes flyback {
  0% {
    transform: translate(-150%, -150%) rotate(45deg);
    opacity: 0;
  }

  10% {
    transform: translate(0, 0) rotate(45deg);
    opacity: 1;
  }

  10.1% {
    opacity: 1;
  }

  55% {
    opacity: 1;
  }

  60% {
    transform: translate(1400%, 0%) rotate(45deg);
    opacity: 0;
  }

  80% {
    transform: translate(-150%, 0%) rotate(45deg);
    opacity: 0;
  }

  90% {
    transform: translate(0, 0) rotate(45deg);
    opacity: 1;
  }

  100% {
    transform: translate(0, 0) rotate(0deg);
    opacity: 1;
  }
}

@keyframes burn {
  from {
    background-position: 0 0;
  }

  to {
    background-position: -756px 0;
  }

  /* 54px * 14 = 756px */
}

/*==============================
  Media Queries
===============================*/
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

@media (prefers-reduced-transparency: reduce) {

  *,
  *::before,
  *::after {
    backdrop-filter: none !important;
  }

  body {
    background-image: none !important;
  }
}

@keyframes flameFlicker {
  to {
    background-position: -700px 0;
  }
}

/*==============================
  Test
===============================*/

.purple-bg .fx {
  content: "";
  background-repeat: no-repeat;
  position: absolute;
  height: 100%;
  left: 50%;
  transform: translateX(-50%);
  width: 120%;
}

.purple-bg:active .fx {
  --purple-100: #fed3fe;
  --purple-200: #f4b1ff;
  --purple-300: #d892ff;
  --purple-400: #c780ff;
  --purple-500: #bc73f5;
  --purple-600: #a35ce0;
  --purple-700: #9946dd;
  --purple-800: #8630c9;
  --purple-900: #7723ba;
  --purple-1000: #5b2b86;

  background-image: radial-gradient(circle,
      var(--purple-500) 10%,
      transparent 10%),
    radial-gradient(circle, var(--purple-200) 15%, transparent 15%),
    radial-gradient(circle, var(--purple-300) 22%, transparent 22%),
    radial-gradient(circle, var(--purple-900) 10%, transparent 22%),
    radial-gradient(circle, var(--purple-700) 15%, transparent 15%),
    radial-gradient(circle, var(--purple-500) 20%, transparent 20%),
    radial-gradient(circle, var(--purple-400) 22%, transparent 22%),
    radial-gradient(circle, var(--purple-400) 10%, transparent 10%),
    radial-gradient(circle, var(--purple-300) 22%, transparent 22%),
    radial-gradient(circle, var(--purple-1000) 10%, transparent 10%),
    radial-gradient(circle, var(--purple-1000) 15%, transparent 15%);
  background-size:
    15% 15%,
    25% 25%,
    20% 20%,
    25% 25%,
    18% 18%,
    18% 18%,
    15% 15%,
    22% 22%,
    15% 15%,
    25% 25%,
    20% 20%;
  background-position: 50% 125%;
  animation: bubblesAnimation 0.9s ease;
  top: -90%;
}

@keyframes bubblesAnimation {
  0% {
    background-position:
      10% 95%,
      15% 95%,
      15% 95%,
      20% 95%,
      30% 95%,
      30% 95%,
      45% 95%,
      65% 95%,
      75% 95%,
      10% 95%,
      15% 95%,
      15% 95%;
  }

  70% {
    background-position:
      5% 85%,
      5% 25%,
      15% 45%,
      25% 5%,
      35% 35%,
      27% 55%,
      55% 55%,
      75% 25%,
      95% 35%,
      5% 85%,
      15% 45%;
  }

  100% {
    background-position:
      5% 75%,
      5% 15%,
      15% 35%,
      25% 0%,
      35% 25%,
      27% 45%,
      55% 45%,
      70% 15%,
      95% 25%,
      5% 75%,
      15% 35%;
    background-size: 0% 0%;
  }
}

.purple-bg:active .bottom {
  transform: scale(-1) translateY(-185%) translateX(60%);
}

.halloween-form-submit {
  background: linear-gradient(135deg, #1a3a3a 0%, #0d1f1f 100%);
  /* Dark teal fallback */
  color: var(--primary);
  text-shadow: 0 0 5px rgba(0, 0, 0, 0.8), 0 0 10px rgba(0, 0, 0, 0.5);
  transition: all 0.4s ease-in-out;
  font-family: 'Creepster-Regular', 'Poppins', system-ui, sans-serif;
  letter-spacing: 3px;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.halloween-form-submit::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/src/assets/svgs/halloween/banner.webp');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  opacity: 0.5;
  filter: blur(2px);
  transition: all 0.4s ease-in-out;
  z-index: -1;
}

.halloween-form-submit:hover::before {
  opacity: 1;
  filter: blur(0px);
  transform: scale(1.1);
}

.halloween-form-submit:hover {
  transform: scale(1.05);
  box-shadow: 0 0 25px rgba(0, 255, 255, 0.5);
}

.btn-pumpkin {
  background: radial-gradient(circle at 30% 30%, #ff9d4a 0%, #ff6b1a 50%, #d64800 100%);
  border: 3px solid #5a2800;
  padding: 18px 30px;
  border-radius: 20px;
  color: #2d1300;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
  box-shadow: inset 0 -5px 10px rgba(0, 0, 0, 0.3),
    0 5px 20px rgba(255, 107, 26, 0.4);
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
}

.btn-pumpkin:hover {
  box-shadow: inset 0 -5px 10px rgba(0, 0, 0, 0.3),
    0 5px 30px rgba(255, 107, 26, 0.8),
    0 0 50px rgba(255, 200, 0, 0.6);
  transform: scale(1.05);
}