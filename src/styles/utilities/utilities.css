@layer utilities {

  /*==============================
      Minimal Mode
  ===============================*/
  .minimal-mode-animations {
    animation: none !important;
    transition: none !important;
  }

  .minimal-mode-illustrations {
    background-image: none;
  }

  /*==============================
      Action Buttons
  ===============================*/
  .main-action {
    @apply min-w-12 min-h-12 p-3;
  }

  /*==============================
      Effects
  ===============================*/
  .side-glow {
    position: relative;
  }

  .side-glow::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: -0.625rem;
    right: -0.625rem;
    background: radial-gradient(ellipse at left center, oklch(76.5% 0.151 229 / 0.3), transparent 70%),
      radial-gradient(ellipse at right center, oklch(59.9% 0.265 336 / 0.3), transparent 70%);
    z-index: -1;
    pointer-events: none;
    opacity: 0.2;
  }

  /*==============================
      Purple Background and Effect (AI Addon Button)
  ===============================*/
  .purple-bg {
    background: radial-gradient(65.28% 65.28% at 50% 100%,
        rgba(223, 113, 255, 0.8) 0%,
        rgba(223, 113, 255, 0) 100%),
      linear-gradient(0deg, #7a5af8, #7a5af8);

    box-shadow:
      0 0 0 0.1rem #ffffff44 inset,
      var(--shadow-glow-soft);
    border-radius: 9px;

    position: relative;
    overflow: visible;
  }

  .purple-bg .fx {
    content: "";
    background-repeat: no-repeat;
    position: absolute;
    height: 100%;
    left: 50%;
    transform: translateX(-50%);
    width: 120%;
  }

  .purple-bg.animating .fx {
    --purple-100: #fed3fe;
    --purple-200: #f4b1ff;
    --purple-300: #d892ff;
    --purple-400: #c780ff;
    --purple-500: #bc73f5;
    --purple-600: #a35ce0;
    --purple-700: #9946dd;
    --purple-800: #8630c9;
    --purple-900: #7723ba;
    --purple-1000: #5b2b86;

    background-image: radial-gradient(circle,
        var(--purple-500) 10%,
        transparent 10%),
      radial-gradient(circle, var(--purple-200) 15%, transparent 15%),
      radial-gradient(circle, var(--purple-300) 22%, transparent 22%),
      radial-gradient(circle, var(--purple-900) 10%, transparent 22%),
      radial-gradient(circle, var(--purple-700) 15%, transparent 15%),
      radial-gradient(circle, var(--purple-500) 20%, transparent 20%),
      radial-gradient(circle, var(--purple-400) 22%, transparent 22%),
      radial-gradient(circle, var(--purple-400) 10%, transparent 10%),
      radial-gradient(circle, var(--purple-300) 22%, transparent 22%),
      radial-gradient(circle, var(--purple-1000) 10%, transparent 10%),
      radial-gradient(circle, var(--purple-1000) 15%, transparent 15%);
    background-size:
      15% 15%,
      25% 25%,
      20% 20%,
      25% 25%,
      18% 18%,
      18% 18%,
      15% 15%,
      22% 22%,
      15% 15%,
      25% 25%,
      20% 20%;
    background-position: 50% 125%;
    animation: bubblesAnimation 1.5s linear(0, 1 44.7%, 0.898 51.8%, 0.874 55.1%, 0.866 58.4%, 0.888 64.3%, 1 77.4%, 0.98 84.5%, 1);
    top: -90%;
  }

  .purple-bg.animating .bottom {
    transform: scale(-1) translateY(-185%) translateX(60%);
  }

  .stripped-blue {
    background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255, 255, 255, 0.1) 35px, rgba(255, 255, 255, 0.1) 70px)
  }

  .score-time-container {
    background: linear-gradient(135deg, color-mix(in oklch, var(--primary) 45%, transparent), color-mix(in oklch, var(--accent) 25%, transparent));
    outline: 1px solid color-mix(in oklch, var(--primary) 35%, transparent);
    -webkit-backdrop-filter: blur(8px);
    -moz-backdrop-filter: blur(8px);
    -ms-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    box-shadow: inset 0 2px 5px color-mix(in oklch, var(--background) 70%, transparent),
      inset 0 1px 2px rgba(0, 0, 0, 0.3),
      0 1px 0 color-mix(in oklch, var(--primary) 20%, transparent);
  }

  .sticky-container {
    background: var(--sticky-bg);
    backdrop-filter: blur(12px);
    box-shadow: 0 2px 16px rgba(25, 120, 200, 0.3);
  }
}